# 크롤링 후 상품 수 감소 문제 분석

## 문제 상황
- 크롤링 직후: 90개 이상 상품 표시
- 새로고침 후: 37-38개 상품만 표시

## 발견한 사항

### 1. 데이터 저장 로직 누락 (해결됨)
- `/api/crawl` 엔드포인트에서 크롤링 후 `storageService.updateCurrentProducts()` 호출 누락
- 해결: API 라우트에 저장 로직 추가

### 2. 현재 파일 상태
- `data/current-products.json`: 38개 상품만 저장됨
- 이것이 새로고침 시 37-38개만 보이는 원인

### 3. 의심되는 원인들
1. 크롤링 시 필터링이 적용되어 일부 상품만 저장
2. 서버 시작 시 초기 크롤링에서 필터링된 결과만 저장
3. 다른 곳에서 필터링된 데이터로 덮어쓰기

## 해결 방법
1. 서버 재시작 후 로그 확인
2. 크롤링 → 저장 플로우에서 상품 수 추적
3. 필터링이 일어나는 지점 파악

## 테스트 절차
1. 서버 중지
2. 서버 재시작
3. 로그 확인:
   - 초기 로드 상품 수
   - 크롤링된 상품 수
   - 저장된 상품 수
4. 프론트엔드에서 "지금 확인" 클릭
5. 로그 재확인